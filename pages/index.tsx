import { HStack, Stack, Text } from "@chakra-ui/react";
import Layout from "@components/Layout";
import pageTitle from "@lib/helpers/frontend/page-title";
import { useUserQuery } from "@lib/hooks/user";
import type { NextPage } from "next";
import Image from "next/image";
import bookBazarLogo from "../assets/bookBazarLogo.png";
import Head from "next/head";

import { SearchBar } from "@components/SearchBar";

const Home: NextPage = () => {
  const { user } = useUserQuery();

  return (
    <>
      <Head>
        <title>{pageTitle()}</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Layout hideHeaderSearch={true} marginY={"130px"}>
        <Stack align={"center"}>
          <HStack spacing={5} align={"center"}>
            <Image
              src={bookBazarLogo}
              alt="Book Bazar Logo"
              width={60}
              height={60}
            />
            <Text fontSize="6xl" color="teal" fontFamily="title">
              Book Bazar
            </Text>
          </HStack>
          <Stack spacing={10} align={"center"}>
            <SearchBar openOnFocus={true} autoFocus overlay={false} />
          </Stack>
        </Stack>
        {user && (
          <pre style={{ whiteSpace: "pre-wrap" }}>
            {JSON.stringify(user, null, 2)}
          </pre>
        )}
      </Layout>
    </>
  );
};

export default Home;
